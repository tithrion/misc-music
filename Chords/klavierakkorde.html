<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Klavierakkorde Übersicht</title>
    <style>
        @page {
            size: A4 portrait;
            margin: 10mm;
        }
        
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 15px;
            background: white;
        }
        
        .container {
            width: 210mm;
            min-height: 297mm;
        }
        
        h1 {
            text-align: center;
            font-size: 20px;
            margin: 0 0 15px 0;
            color: #333;
        }
        
        .chord-grid {
            display: table;
            width: 100%;
            border-collapse: collapse;
        }
        
        .header-row {
            display: table-row;
            font-weight: bold;
            font-size: 11px;
        }
        
        .header-cell {
            display: table-cell;
            text-align: center;
            padding: 5px 2px;
            border: 1px solid #ccc;
            background: #f0f0f0;
        }
        
        .header-cell:first-child {
            width: 40px;
        }
        
        .chord-row {
            display: table-row;
        }
        
        .note-label {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
            font-weight: bold;
            font-size: 13px;
            border: 1px solid #ccc;
            background: #f9f9f9;
            padding: 5px;
        }
        
        .keyboard-cell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
            border: 1px solid #ccc;
            padding: 3px 2px;
            width: 12%; /* Einheitliche Breite für alle Zellen */
        }
        
        .keyboard {
            position: relative;
            width: 90px; /* Fixe Breite für einheitliche Größe */
            height: 45px;
            display: inline-block;
            margin: 0 auto;
        }
        
        .white-key {
            position: absolute;
            background: white;
            border: 1px solid #000;
            border-radius: 0 0 2px 2px;
            height: 45px;
            width: 12.86px; /* 90px / 7 Tasten */
        }
        
        .black-key {
            position: absolute;
            background: #000;
            border: 1px solid #000;
            border-radius: 0 0 2px 2px;
            height: 28px;
            width: 7.5px; /* 90px / 12 */
            z-index: 2;
        }
        
        .marker {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            z-index: 3;
            transform: translate(-50%, -50%);
        }
        
        .marker.white {
            background: black;
            top: 36.5px; /* Mittig zwischen Ende schwarze Tasten (28px) und Ende weiße Tasten (45px) */
        }
        
        .marker.black {
            background: white;
            top: 14px; /* Mittig auf schwarzer Taste (28px hoch, also Mitte bei 14px) */
        }
        
        @media print {
            body {
                padding: 0;
            }
            .container {
                page-break-after: avoid;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Klavierakkorde Übersicht</h1>
        
        <div class="chord-grid" id="chordGrid"></div>
    </div>

    <script>
        const notes = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];
        const chordTypes = [
            { name: 'Dur', intervals: [0, 4, 7] },
            { name: 'Moll', intervals: [0, 3, 7] },
            { name: '7th', intervals: [0, 4, 7, 10] },
            { name: 'm7th', intervals: [0, 3, 7, 10] },
            { name: 'Aug', intervals: [0, 4, 8] },
            { name: 'Dim', intervals: [0, 3, 6] },
            { name: 'Sus2', intervals: [0, 2, 7] },
            { name: 'Sus4', intervals: [0, 5, 7] }
        ];
        
        // Tastatur-Layout: welche Note ist auf welcher Position (0-11 = C bis B in einer Oktave)
        const keyPositions = {
            white: [0, 2, 4, 5, 7, 9, 11], // C, D, E, F, G, A, B
            black: [1, 3, 6, 8, 10] // C#, D#, F#, G#, A#
        };
        
        function getKeyPosition(noteIndex) {
            const note = noteIndex % 12;
            const keyboardWidth = 90; // Fixe Breite in Pixeln
            const whiteKeyWidth = keyboardWidth / 7; // 12.86px
            const blackKeyWidth = 7.5; // Breite der schwarzen Taste
            
            // Weiße Tasten
            if (keyPositions.white.includes(note)) {
                const whiteIndex = keyPositions.white.indexOf(note);
                return {
                    isBlack: false,
                    left: (whiteIndex * whiteKeyWidth) + (whiteKeyWidth / 2) // Mitte der weißen Taste in px
                };
            }
            
            // Schwarze Tasten - Position mittig auf der schwarzen Taste
            const blackIndex = keyPositions.black.indexOf(note);
            if (blackIndex !== -1) {
                let leftPos;
                switch(note) {
                    case 1: leftPos = whiteKeyWidth * 0.7 + (blackKeyWidth / 2); break; // C# - Mitte
                    case 3: leftPos = whiteKeyWidth * 1.7 + (blackKeyWidth / 2); break; // D# - Mitte
                    case 6: leftPos = whiteKeyWidth * 3.65 + (blackKeyWidth / 2); break; // F# - Mitte
                    case 8: leftPos = whiteKeyWidth * 4.7 + (blackKeyWidth / 2); break; // G# - Mitte
                    case 10: leftPos = whiteKeyWidth * 5.7 + (blackKeyWidth / 2); break; // A# - Mitte
                }
                return {
                    isBlack: true,
                    left: leftPos
                };
            }
        }
        
        function createKeyboard(rootNote, intervals) {
            const keyboard = document.createElement('div');
            keyboard.className = 'keyboard';
            
            const keyboardWidth = 90;
            const whiteKeyWidth = keyboardWidth / 7;
            
            // Weiße Tasten zeichnen
            for (let i = 0; i < 7; i++) {
                const whiteKey = document.createElement('div');
                whiteKey.className = 'white-key';
                whiteKey.style.left = `${i * whiteKeyWidth}px`;
                keyboard.appendChild(whiteKey);
            }
            
            // Schwarze Tasten zeichnen
            const blackKeyPositions = [
                whiteKeyWidth * 0.7,  // C#
                whiteKeyWidth * 1.7,  // D#
                whiteKeyWidth * 3.65, // F#
                whiteKeyWidth * 4.7,  // G#
                whiteKeyWidth * 5.7   // A#
            ];
            
            blackKeyPositions.forEach(pos => {
                const blackKey = document.createElement('div');
                blackKey.className = 'black-key';
                blackKey.style.left = `${pos}px`;
                keyboard.appendChild(blackKey);
            });
            
            // Markierungen für Akkordtöne
            const rootIndex = notes.indexOf(rootNote);
            intervals.forEach(interval => {
                const noteIndex = (rootIndex + interval) % 12;
                const position = getKeyPosition(noteIndex);
                
                const marker = document.createElement('div');
                marker.className = `marker ${position.isBlack ? 'black' : 'white'}`;
                marker.style.left = `${position.left}px`;
                keyboard.appendChild(marker);
            });
            
            return keyboard;
        }
        
        function buildGrid() {
            const grid = document.getElementById('chordGrid');
            
            // Header-Zeile
            const headerRow = document.createElement('div');
            headerRow.className = 'header-row';
            
            const cornerCell = document.createElement('div');
            cornerCell.className = 'header-cell';
            cornerCell.textContent = 'Note';
            headerRow.appendChild(cornerCell);
            
            chordTypes.forEach(chord => {
                const headerCell = document.createElement('div');
                headerCell.className = 'header-cell';
                headerCell.textContent = chord.name;
                headerRow.appendChild(headerCell);
            });
            
            grid.appendChild(headerRow);
            
            // Zeilen für jede Note
            notes.forEach(note => {
                const row = document.createElement('div');
                row.className = 'chord-row';
                
                const noteLabel = document.createElement('div');
                noteLabel.className = 'note-label';
                noteLabel.textContent = note;
                row.appendChild(noteLabel);
                
                chordTypes.forEach(chord => {
                    const cell = document.createElement('div');
                    cell.className = 'keyboard-cell';
                    cell.appendChild(createKeyboard(note, chord.intervals));
                    row.appendChild(cell);
                });
                
                grid.appendChild(row);
            });
        }
        
        buildGrid();
    </script>
</body>
</html>
